

<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
		<meta http-equiv="Cache-control" content="no-cache"> 
		<meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Santa Cruz Boardwalk</title>
    <link rel="stylesheet"  href="css/style.css"/>
		
		<!--knockout scripts-->
		<script type="text/javascript" src="js/libs/knockout-3.2.0.js" ></script>
		<script type="text/javascript" src="js/libs/knockout.simpleGrid.3.0.js" ></script>
		
		<!--yelp scripts-->
		<script type="text/javascript" src="js/libs/sha1.js" ></script>
		<script type="text/javascript" src="js/libs/oauth.js" ></script>
		<script type="text/javascript" src="js/libs/jquery.min.js" ></script>
		<script type="text/javascript" src="js/yelpConstants.js" ></script>	
		<script type="text/javascript" src="js/yelpMarker.js" ></script>	
		<script type="text/javascript" src="js/yelpResultsView.js" ></script>	
		<script type="text/javascript" src="js/yelpBusiness.js" ></script>	
		<script type="text/javascript" src="js/yelpData.js" ></script>	
		<script type="text/javascript" src="js/yelp.js" ></script>	
  </head>
  <body>
    <div id="panel" style="margin-left:-100px">
      <input type="button" value="Toggle Street View" onclick="gmap.toggleStreetView();"></input>
    </div>
    <div id="map-canvas"></div>
		<div id="searchBar" class="floating">
			<form id="form-container" class="form-container" >
					<input type="text" id="searchTerm" name="searchTerm" value=''/><br/>
					Coupons? <input type="checkbox" id="dealFilter" name="dealFilter" value="deal"/> 
					<input type="button" onClick='yelp.applyFilter(); return false;' value='Filter'>
			</form>

			<div id="yelpDeals" class="business-list">
				<table>
					<thead>
					</thead>
					<tbody id="tableBindings" data-bind="foreach: yelp.resultsView.retailers">
						<tr>
							<td data-bind="text: businessIx"></td>
							<td> <a data-bind="attr: {href: businessUrl}"><span class="yelpBusiness" data-bind="text: name"></span></a></td>
							<td> <img data-bind="attr: {src: ratingsImg}"></span></td>
						</tr>
						<tr>
							<td></td>
							<td colspan="2"> 
								<span data-bind="foreach: categories">
									<span data-bind="text: $data"></span>
								</span>
							</td>
						</tr>
					</tbody>
				</table>
				<div id='navBar'><a  href='#' id='nav-less' onclick='yelp.loadPrev()'>Prev</a> &nbsp;<a href='#'  id='nav-more' onclick='yelp.loadNext()'>Next</a> </div>
			</div>
			
		</div>
		
		<!--google map scripts-->
		<script src="https://maps.googleapis.com/maps/api/js?v=3.exp"></script>
		<script src="js/GoogleMap.js"></script>
		
		<!--initializing of yelp & map elements-->
		<script type="text/javascript">
		var yelp = {};
		var gmap = {};
		var yelpRetailers = {};
	

		
		function initialize()
		{
			//set up the map
			var santaCruzBoardwalk = new google.maps.LatLng(LATITUDE, LONGITUDE); //new google.maps.LatLng(36.9602286, -122.0199624);
			gmap = new GoogleMap('map-canvas',santaCruzBoardwalk);
		
			//set up Yelp
			yelp = new Yelp(gmap,
												'yelp.fillYelpData',
												'#searchTerm',
												1600,
												'yelpDeals');
			//yelp.yelpData.retailers.push( new YelpBusiness(1,"bus1","business a","www.mozilla.ca","www.mozilla.ca","img/yelpReview.jpg",2,36,121,["food","dinner"],[]));
			//yelp.yelpData.retailers.push( new YelpBusiness(2,"bus2","business b","www.google.ca","www.mozilla.ca","img/yelpReview.jpg",3,37,121,["supper","dessert"],[]));
			//yelp.yelpData.retailers.push( new YelpBusiness(3,"bus3","business c","www.yahoo.ca","www.mozilla.ca","img/yelpReview.jpg",4,36,120,["snack","breakfast"],[]));
			yelp.searchYelp(0);

		};
		
		

		
			google.maps.event.addDomListener(window, 'load', initialize);
		</script>
  </body>
</html>

